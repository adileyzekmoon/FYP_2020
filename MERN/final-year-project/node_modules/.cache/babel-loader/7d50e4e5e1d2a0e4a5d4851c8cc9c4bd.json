{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AdilAzmoon\\\\Desktop\\\\Mini Projects\\\\FYP\\\\FYP_2020\\\\MERN\\\\final-year-project\\\\src\\\\components\\\\Home.jsx\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport axios from 'axios';\nimport CanvasJSReact from './canvasjs.react'; //var CanvasJSReact = require('./canvasjs.react');\n\nvar CanvasJS = CanvasJSReact.CanvasJS;\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      history: null,\n      predictionClasses: [0, 100, 12.5, 25, 37.5, 50, 62.5, 75, 87.5],\n      loginEmail: null,\n      loginPassword: null,\n      login: false\n    };\n\n    this.loginHandler = event => {\n      event.preventDefault();\n      axios.post('http://localhost:3001/user/login', {\n        email: this.state.loginEmail,\n        password: this.state.loginPassword\n      }).then(res => {\n        if (res.data != \"\") {\n          console.log(res);\n          this.setState({\n            name: res.data.name,\n            user: res.data.user,\n            loginEmail: null,\n            loginPassword: null,\n            login: true\n          });\n\n          if (res.data.user == \"Doctor\") {\n            this.setState({\n              patients: res.data.patients\n            });\n            var patientData = [];\n            this.state.patients.forEach(patient => axios.get('http://localhost:3001/user/history', {\n              params: {\n                name: patient\n              }\n            }).then(res => patientData.push({\n              name: patient,\n              data: res.data.data\n            })));\n            this.setState({\n              patientData: patientData\n            });\n          }\n        } else this.setState({\n          loginStatus: \"Invalid username and password.\"\n        });\n      });\n    };\n\n    this.onChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n  }\n\n  loginPage() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group m-5 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"emailAddress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Email address\"), React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      id: \"emailAddress\",\n      name: \"loginEmail\",\n      \"aria-describedby\": \"emailHelp\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"inputPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"inputPassword\",\n      name: \"loginPassword\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      onClick: this.loginHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.state.loginStatus)));\n  }\n\n  render() {\n    if (this.state.login != true) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        user: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), this.loginPage());\n    }\n\n    if (this.state.login == true && this.state.user == \"Patient\") {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        name: this.state.name,\n        user: this.state.user,\n        login: this.state.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container-fluid d-flex align-items-center justify-content-center h-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \" Welcome, \", this.state.name))));\n    } else if (this.state.login == true && this.state.user == \"Doctor\") {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        name: this.state.name,\n        user: this.state.user,\n        login: this.state.login,\n        patients: this.state.patients,\n        patientData: this.state.patientData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container-fluid d-flex align-items-center justify-content-center h-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \" Welcome, \", this.state.name))));\n    }\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/AdilAzmoon/Desktop/Mini Projects/FYP/FYP_2020/MERN/final-year-project/src/components/Home.jsx"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Link","Navbar","axios","CanvasJSReact","CanvasJS","CanvasJSChart","Home","state","history","predictionClasses","loginEmail","loginPassword","login","loginHandler","event","preventDefault","post","email","password","then","res","data","console","log","setState","name","user","patients","patientData","forEach","patient","get","params","push","loginStatus","onChange","target","value","loginPage","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\r\nimport Navbar from './Navbar';\r\nimport axios from 'axios';\r\nimport CanvasJSReact from './canvasjs.react';\r\n//var CanvasJSReact = require('./canvasjs.react');\r\n\r\nvar CanvasJS = CanvasJSReact.CanvasJS;\r\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\r\n\r\nclass Home extends Component {\r\n  state = {\r\n      history: null,\r\n      predictionClasses: [0, 100, 12.5, 25, 37.5, 50, 62.5, 75, 87.5],\r\n      loginEmail: null,\r\n      loginPassword: null,\r\n      login: false\r\n  }\r\n\r\n\r\nloginHandler = event => {\r\n    event.preventDefault();\r\n    axios.post('http://localhost:3001/user/login', {\r\n        email: this.state.loginEmail,\r\n        password: this.state.loginPassword\r\n    })\r\n        .then(res => {if (res.data != \"\"){\r\n            console.log(res);\r\n            this.setState({name: res.data.name,\r\n                           user: res.data.user,\r\n                           loginEmail: null,\r\n                           loginPassword: null,\r\n                           login: true});\r\n            if (res.data.user == \"Doctor\"){\r\n                this.setState({patients : res.data.patients,});\r\n                var patientData = [];\r\n                this.state.patients.forEach(patient => axios.get('http://localhost:3001/user/history', {params: {\r\n                    name: patient,\r\n                }}).then(res => patientData.push({name: patient,\r\n                                                 data: res.data.data})));\r\n                this.setState({patientData: patientData});\r\n            }}\r\n                      else \r\n                          this.setState({loginStatus: \"Invalid username and password.\"})}\r\n             );\r\n}\r\n\r\nonChange = event =>{\r\n    this.setState({ [event.target.name]: event.target.value })\r\n}\r\n\r\nloginPage(){\r\n    return(\r\n        <div>\r\n            <form>\r\n                <div className=\"form-group m-5 \">\r\n                    <label htmlFor=\"emailAddress\">Email address</label>\r\n                    <input type=\"email\" className=\"form-control\" id=\"emailAddress\" name=\"loginEmail\" aria-describedby=\"emailHelp\" \r\n                    onChange={this.onChange}/> \r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"inputPassword\">Password</label>\r\n                    <input type=\"password\" className=\"form-control\" id=\"inputPassword\" name=\"loginPassword\" \r\n                    onChange={this.onChange}/>\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary\" onClick={this.loginHandler}>Submit</button>\r\n                <p>{this.state.loginStatus}</p>\r\n            </form>\r\n\r\n        </div>\r\n            \r\n    )\r\n}\r\n\r\n\r\n  render() {\r\n      if (this.state.login != true){\r\n          return(<div>\r\n                  <Navbar user=\"Login\"/>\r\n                  {this.loginPage()}\r\n                  </div>\r\n          )\r\n      }\r\n      if (this.state.login == true && this.state.user == \"Patient\"){\r\n    return (\r\n        <div>\r\n            <Navbar name= {this.state.name} user={this.state.user} login={this.state.login}               \r\n                />\r\n            \r\n            <div className=\"container-fluid d-flex align-items-center justify-content-center h-100\">\r\n                  <div className=\"row\">\r\n                          <h1> Welcome, {this.state.name}</h1>                      \r\n                  </div>\r\n              </div>\r\n            \r\n            \r\n        </div>\r\n        \r\n    );}\r\n      else if (this.state.login == true && this.state.user == \"Doctor\"){\r\n          return (\r\n        <div>\r\n            <Navbar name={this.state.name} user={this.state.user} login={this.state.login} patients= {this.state.patients} patientData={this.state.patientData}               \r\n                />\r\n            \r\n            <div className=\"container-fluid d-flex align-items-center justify-content-center h-100\">\r\n                  <div className=\"row\">\r\n                          <h1> Welcome, {this.state.name}</h1>                      \r\n                  </div>\r\n              </div>\r\n            \r\n        </div>\r\n        \r\n    );\r\n      }\r\n  }\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}