{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AdilAzmoon\\\\Desktop\\\\Mini Projects\\\\FYP\\\\FYP_2020\\\\MERN\\\\final-year-project\\\\src\\\\components\\\\Home.jsx\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport axios from 'axios';\nimport CanvasJSReact from './canvasjs.react'; //var CanvasJSReact = require('./canvasjs.react');\n\nvar CanvasJS = CanvasJSReact.CanvasJS;\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: \"Patient\",\n      patients: [\"Adil\", \"Patrice\", \"Brandy\"],\n      history: null,\n      predictionClasses: [0, 100, 12.5, 25, 37.5, 50, 62.5, 75, 87.5],\n      loginEmail: null,\n      loginPassword: null,\n      login: false\n    };\n\n    this.loginHandler = event => {\n      event.preventDefault();\n      axios.post('http://localhost:3001/user/login', {\n        email: this.state.loginEmail,\n        password: this.state.loginPassword\n      }).then(res => {\n        if (res.data != \"\") {\n          console.log(res);\n          this.setState({\n            name: res.data.name,\n            loginEmail: null,\n            loginPassword: null,\n            login: true\n          });\n        } else this.setState({\n          loginStatus: \"Invalid username and password.\"\n        });\n      });\n    };\n\n    this.onChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n  }\n\n  componentDidUpdate() {\n    axios.get('http://localhost:3001/user/history', {\n      params: {\n        name: this.state.name\n      }\n    }).then(res => this.setState({\n      history: res.data\n    }));\n  }\n\n  loginPage() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"emailAddress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Email address\"), React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      id: \"emailAddress\",\n      name: \"loginEmail\",\n      \"aria-describedby\": \"emailHelp\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"inputPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"inputPassword\",\n      name: \"loginPassword\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      onClick: this.loginHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.state.loginStatus)));\n  }\n\n  render() {\n    if (this.state.login != true) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        user: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), this.loginPage());\n    }\n\n    if (this.state.login == true && this.state.user == \"Patient\") {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        user: this.state.user,\n        login: this.state.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \" Welcome, \", this.state.user));\n    } else if (this.state.login == true && this.state.user == \"Doctor\") {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        user: \"Doctor\",\n        login: this.state.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container-fluid d-flex align-items-center justify-content-center h-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, this.renderGraphsDoc()));\n    }\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/AdilAzmoon/Desktop/Mini Projects/FYP/FYP_2020/MERN/final-year-project/src/components/Home.jsx"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Link","Navbar","axios","CanvasJSReact","CanvasJS","CanvasJSChart","Home","state","user","patients","history","predictionClasses","loginEmail","loginPassword","login","loginHandler","event","preventDefault","post","email","password","then","res","data","console","log","setState","name","loginStatus","onChange","target","value","componentDidUpdate","get","params","loginPage","render","renderGraphsDoc"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\r\nimport Navbar from './Navbar';\r\nimport axios from 'axios';\r\nimport CanvasJSReact from './canvasjs.react';\r\n//var CanvasJSReact = require('./canvasjs.react');\r\n\r\nvar CanvasJS = CanvasJSReact.CanvasJS;\r\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\r\n\r\nclass Home extends Component {\r\n  state = {\r\n      user : \"Patient\",\r\n      patients : [\"Adil\", \"Patrice\", \"Brandy\"],\r\n      history: null,\r\n      predictionClasses: [0, 100, 12.5, 25, 37.5, 50, 62.5, 75, 87.5],\r\n      loginEmail: null,\r\n      loginPassword: null,\r\n      login: false\r\n  }\r\n\r\ncomponentDidUpdate() {\r\n    axios.get('http://localhost:3001/user/history', {params: {\r\n            name: this.state.name,\r\n        }})\r\n        .then(res => this.setState({history:res.data}));\r\n}\r\n\r\nloginHandler = event => {\r\n    event.preventDefault();\r\n    axios.post('http://localhost:3001/user/login', {\r\n        email: this.state.loginEmail,\r\n        password: this.state.loginPassword\r\n    })\r\n        .then(res => {if (res.data != \"\"){\r\n            console.log(res);\r\n            this.setState({name: res.data.name,\r\n                           loginEmail: null,\r\n                           loginPassword: null,\r\n                           login: true})}\r\n                      else \r\n                          this.setState({loginStatus: \"Invalid username and password.\"})}\r\n             );\r\n}\r\n\r\nonChange = event =>{\r\n    this.setState({ [event.target.name]: event.target.value })\r\n}\r\n\r\nloginPage(){\r\n    return(\r\n        <div>\r\n            <form>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"emailAddress\">Email address</label>\r\n                    <input type=\"email\" className=\"form-control\" id=\"emailAddress\" name=\"loginEmail\" aria-describedby=\"emailHelp\" \r\n                    onChange={this.onChange}/> \r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"inputPassword\">Password</label>\r\n                    <input type=\"password\" className=\"form-control\" id=\"inputPassword\" name=\"loginPassword\" \r\n                    onChange={this.onChange}/>\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary\" onClick={this.loginHandler}>Submit</button>\r\n                <p>{this.state.loginStatus}</p>\r\n            </form>\r\n\r\n        </div>\r\n            \r\n    )\r\n}\r\n\r\n\r\n  render() {\r\n      if (this.state.login != true){\r\n          return(<div>\r\n                  <Navbar user=\"Login\"/>\r\n                  {this.loginPage()}\r\n                  </div>\r\n          )\r\n      }\r\n      if (this.state.login == true && this.state.user == \"Patient\"){\r\n    return (\r\n        <div>\r\n            <Navbar user={this.state.user} login={this.state.login}               \r\n                />\r\n            <h1> Welcome, {this.state.user}</h1>\r\n            \r\n        </div>\r\n        \r\n    );}\r\n      else if (this.state.login == true && this.state.user == \"Doctor\"){\r\n          return (\r\n        <div>\r\n            <Navbar user=\"Doctor\"  login={this.state.login}               \r\n                />\r\n            <div className=\"container-fluid d-flex align-items-center justify-content-center h-100\">\r\n                {this.renderGraphsDoc()}\r\n            </div>\r\n            \r\n        </div>\r\n        \r\n    );\r\n      }\r\n  }\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}